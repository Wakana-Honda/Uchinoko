<div class ="title mb-3 h6">
 <span class = "border rounded border-dark py-2 px-2 bg-light">
  フードの情報を入力して下さい
 </span>
</div>

<%= form_with model: @food, url:'/food', method: :post do |f| %>

 <%= render 'shared/errors', model: f.object %>
 
 <div class="form-group pt-3">
  <%= f.label :フード画像 %>
  <%= f.file_field :food_image,accept:"image/*" %>
 </div>
 
 <div class="form-group">
  <%= f.label :フードの名前 %>
  <%= f.text_field :name %>
 </div>
 
 <div class="form-group">
  <%= f.label :genre_id,'ジャンル' %>
  <%= f.collection_select :genre_id, @genres, :id, :name, options = { include_blank: "選択してください" } %>
 </div>
 <button type="button" class="btn btn-sm btn-primary ml-3" data-toggle="modal" 
 data-target="#genreModal" data-whatever="@genre">ジャンルを追加</button>
 
 <div class="form-group">
  <%= f.label :type_id,'フードタイプ' %>
  <%= f.collection_select :type_id, @types, :id, :name, options = { include_blank: "選択してください" } %>
 </div>
 <button type="button" class="btn btn-sm btn-primary ml-3" data-toggle="modal" 
 data-target="#typeModal" data-whatever="@type">タイプを追加</button>
 
 <div class="form-group">
  <%= f.label :メモ %>
  <%= f.text_area :memo %>
 </div>
 
 <%= f.submit '登録する',class:"btn btn-info" %>
 
<% end %>

<%= link_to "フードジャンルを追加・編集する",genre_index_path %>
<%= link_to "フードタイプを追加・編集する",type_index_path %>

<!--ジャンルモーダル用-->
<div class="modal fade" id="genreModal" tabindex="-1" aria-labelledby="exampleModalLabel" 
    aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body mt-3">
       <%= render 'shared/genre' %>
　　　</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">戻る</button>
        <button type="button" class="btn btn-primary">登録</button>
      </div>
    </div>
  </div>
</div>

<!--タイプモーダル用-->
 <div class="modal fade" id="typeModal" tabindex="-1" aria-labelledby="exampleModalLabel" 
    aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body mt-3">
       <%= render 'shared/type' %>
　　　</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">戻る</button>
        <button type="button" class="btn btn-primary">登録</button>
      </div>
    </div>
  </div>
</div>


<%#= f.collection_check_boxes(:genre_ids, Genre.all, :id, :name) do |genre| %>
 <!--           <div class='form-group'>-->
 <!--               <%#= genre.label class: 'form-check-label' do %>-->
 <!--                   <%#= genre.check_box class: 'form-check-input' %>-->
 <!--                   <%#= genre.text %>-->
 <!--               <#% end %>-->
 <!--           </div>-->
 <!--<#% end %>-->